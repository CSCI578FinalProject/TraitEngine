55

    public void setCookieDomain(String cookieDomain) {
        this.cookieDomain = cookieDomain;
    }

    public void setSessionTimeout(String sessionTimeout) {
        this.sessionTimeout = Integer.valueOf(sessionTimeout);
    }

    public void setCookieHttpOnly(String cookieHttpOnly) {
        this.cookieHttpOnly = Boolean.valueOf(cookieHttpOnly);
    }

    public Map<String,String> getTaglibs() { return taglibs; }

    public void setCookieName(String cookieName) {
        this.cookieName = cookieName;
    }

    public void setCookieMaxAge(String cookieMaxAge) {
        this.cookieMaxAge = Integer.valueOf(cookieMaxAge);
    }

    public void addSecurityConstraint(SecurityConstraint securityConstraint) {
        securityConstraints.add(securityConstraint);
    }

    public void setCookieComment(String cookieComment) {
        this.cookieComment = cookieComment;
    }

    public void setCookiePath(String cookiePath) {
        this.cookiePath = cookiePath;
    }

    public void addWelcomeFile(String welcomeFile) {
        if (replaceWelcomeFiles) {
            welcomeFiles.clear();
            replaceWelcomeFiles = false;
        }
        welcomeFiles.add(welcomeFile);
    }



    /* (non-Javadoc)
     * @see java.lang.Object#equals(java.lang.Object)
     */
    @Override
    public boolean equals(Object obj) {
        if (this == obj)
            return true;
        if (!(obj instanceof LoginConfig))
            return false;
        LoginConfig other = (LoginConfig) obj;
        if (authMethod == null) {
            if (other.authMethod != null)
                return false;
        } else if (!authMethod.equals(other.authMethod))
            return false;
        if (errorPage == null) {
            if (other.errorPage != null)
                return false;
        } else if (!errorPage.equals(other.errorPage))
            return false;
        if (loginPage == null) {
            if (other.loginPage != null)
                return false;
        } else if (!loginPage.equals(other.loginPage))
            return false;
        if (realmName == null) {
            if (other.realmName != null)
                return false;
        } else if (!realmName.equals(other.realmName))
            return false;
        return true;
    }

    public void setDisplayName(String displayName) {
        this.displayName = displayName;
    }

    public void setCookieSecure(String cookieSecure) {
        this.cookieSecure = Boolean.valueOf(cookieSecure);
    }

    public Map<String,MessageDestination> getMessageDestinations() {
        return messageDestinations;
    }

    public void addSecurityRole(String securityRole) {
        securityRoles.add(securityRole);
    }

    public void addJspPropertyGroup(JspPropertyGroup propertyGroup) {
        jspPropertyGroups.add(propertyGroup);
    }


    public void setFilterClass(String filterClass) {
        this.filterClass = filterClass;
    }



    // --------------------------------------------------------- Public Methods


    /**
     * Add an initialization parameter to the set of parameters associated
     * with this filter.
     *
     * @param name The initialization parameter name
     * @param value The initialization parameter value
     */
    public void addInitParameter(String name, String value) {

        if (parameters.containsKey(name)) {
            // The spec does not define this but the TCK expects the first
            // definition to take precedence
            return;
        }
        parameters.put(name, value);

    }


    public void setAsyncSupported(String asyncSupported) {
        this.asyncSupported = asyncSupported;
    }

    public Map<String,String> getContextParams() { return contextParams; }

    public boolean getDenyUncoveredHttpMethods() {
        return denyUncoveredHttpMethods;
    }

    public String getDisplayName() { return displayName; }

    public Map<String,ContextLocalEjb> getEjbLocalRefs() {
        return ejbLocalRefs;
    }

    public Map<String,ContextEjb> getEjbRefs() { return ejbRefs; }

    public Map<String,ContextEnvironment> getEnvEntries() { return envEntries; }

    public Map<String,ErrorPage> getErrorPages() { return errorPages; }

    public Map<String,FilterDef> getFilters() { return filters; }

    public Set<FilterMap> getFilterMappings() { return filterMaps; }

    public Set<String> getListeners() { return listeners; }

    public Map<String,String> getLocaleEncodingMappings() {
        return localeEncodingMappings;
    }

    public LoginConfig getLoginConfig() { return loginConfig; }

    public Map<String,MessageDestinationRef> getMessageDestinationRefs() {
        return messageDestinationRefs;
    }

    public Map<String,String> getMimeMappings() { return mimeMappings; }

    public Map<String,ContextResourceEnvRef> getResourceEnvRefs() {
        return resourceEnvRefs;
    }

    public Map<String,ContextResource> getResourceRefs() {
        return resourceRefs;
    }

    public Set<String> getSecurityRoles() { return securityRoles; }

    public Set<SecurityConstraint> getSecurityConstraints() {
        return securityConstraints;
    }

    public Map<String,ContextService> getServiceRefs() { return serviceRefs; }

    public Map<String,ServletDef> getServlets() { return servlets; }

    public Map<String,String> getServletMappings() { return servletMappings; }

    public SessionConfig getSessionConfig() { return sessionConfig; }

    public Set<String> getWelcomeFiles() { return welcomeFiles; }

    public Set<JspPropertyGroup> getJspPropertyGroups() {
        return jspPropertyGroups;
    }

    public Map<String, String> getPostConstructMethods() {
        return postConstructMethods;
    }

    public Map<String, String> getPreDestroyMethods() {
        return preDestroyMethods;
    }

    public URL getURL() { return uRL; }

    public void addListener(String className) {
        listeners.add(className);
    }

    public void addServletMapping(String urlPattern, String servletName) {
        String oldServletName = servletMappings.put(urlPattern, servletName);
        if (oldServletName != null) {
            // Duplicate mapping. As per clarification from the Servlet EG,
            // deployment should fail.
            throw new IllegalArgumentException(sm.getString(
                    "webXml.duplicateServletMapping", oldServletName,
                    servletName, urlPattern));
        }
        servletMappingNames.add(servletName);
    }

    public void addFilterMapping(FilterMap filterMap) {
        filterMaps.add(filterMap);
        filterMappingNames.add(filterMap.getFilterName());
    }


    @Override
    public void setAsyncSupported(boolean asyncSupported) {
        filterDef.setAsyncSupported(Boolean.valueOf(asyncSupported).toString());
    }


    @Override
    public String toString() {
        StringBuilder buf = new StringBuilder(32);
        buf.append("Name: ");
        buf.append(getName());
        buf.append(", URL: ");
        buf.append(getURL());
        return buf.toString();
    }
